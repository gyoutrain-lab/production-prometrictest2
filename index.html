<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nursing Prometric Actual Simulation Test</title>

<!-- Social Media Thumbnail -->
<meta property="og:title" content="Nursing Prometric Actual Simulation Test">
<meta property="og:description" content="Prepared based on the Prometric/SMLE and ENCLEX prometric test materials. Increase your knowledge for your smart career tracking.">
<meta property="og:image" content="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest2/main/assets/icon17%20(7).jpg">

<style>
body {
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background:#eef5f5;
  color:#222;
  text-align:center;
  overflow-x: hidden;
}

header {
  position: relative;
  width: 100%;
  height: 50vh;
  overflow: hidden;
}
header::before, header::after {
  content:"";
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  background: url('https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest2/main/assets/icon17%20(7).jpg') center/cover no-repeat;
  opacity:0.08; z-index:1;
  will-change: transform;
}
header::before { animation: wave1 8s ease-in-out infinite; }
header::after  { animation: wave2 10s ease-in-out infinite; }
header img { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); max-height:250px; z-index:2; }

h1 { margin-top:20px; font-size:2em; color:#007b83; z-index:3; }
h2 { margin:5px 0; font-size:1.1em; color:#333; }

.social-icons {
  margin:15px 0;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
}
.social-icons a { margin:0 10px; display:inline-block; }
.social-icons img { width:35px; height:35px; }

.buttons-center {
  margin:15px auto 30px auto;
  display:flex;
  justify-content:center;
  gap:15px;
}
.buttons-center button {
  padding:10px 20px;
  border:none;
  border-radius:5px;
  font-size:1em;
  color:#fff;
  cursor:pointer;
  transition: transform 0.2s ease, opacity 0.2s ease;
}
.buttons-center button.confirm { background:#007b83; }
.buttons-center button.continue { background:#28a745; }
.buttons-center button:hover { opacity:0.9; transform:scale(1.05); }

form {
  position:fixed; bottom:20px; left:20px;
  width:280px;
  background:#fff; border-radius:10px;
  padding:15px;
  box-shadow:0 2px 10px rgba(0,0,0,0.2);
  text-align:left;
}
form label { display:block; margin-top:10px; font-weight:bold; }
form input {
  width:100%; padding:8px; margin-top:5px; border-radius:5px; border:1px solid #ccc;
}
form input:focus {
  outline:none;
  border:2px solid #007b83;
  box-shadow:0 0 5px rgba(0,123,131,0.5);
}

.qr-container {
  position:fixed; bottom:20px; right:20px;
  width:140px; background:#fff;
  padding:10px; border-radius:10px;
  box-shadow:0 2px 10px rgba(0,0,0,0.2);
  text-align:center;
}
.qr-container img { max-width:100%; height:auto; display:block; }

.notification {
  position:fixed;
  top:10px; right:10px;
  background:#28a745; color:#fff;
  padding:10px; border-radius:5px;
  display:none;
  z-index:999;
}

@media screen and (max-width:480px){
  form, .qr-container { position:static; width:90%; margin:10px auto; }
  .buttons-center { flex-direction:column; gap:10px; }
}

@keyframes wave1 { 0%{transform:translateX(0) translateY(0);}50%{transform:translateX(20px) translateY(-5px);}100%{transform:translateX(0) translateY(0);} }
@keyframes wave2 { 0%{transform:translateX(0) translateY(0);}50%{transform:translateX(-15px) translateY(-10px);}100%{transform:translateX(0) translateY(0);} }
</style>
</head>
<body>

<header>
  <img src="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest2/main/assets/icon17%20(7).jpg" alt="Nursing Prometric Icon">
</header>

<h1>Nursing Prometric Actual Simulation Test</h1>
<h2>Prepared based on the Prometric/SMLE and ENCLEX prometric test materials</h2>
<h2>Increase your knowledge for your smart career tracking</h2>

<div class="social-icons">
  <a href="tel:+6285399652487" title="Telephone"><img src="https://cdn-icons-png.flaticon.com/512/597/597177.png" alt="phone"></a>
  <a href="https://wa.me/6285399652487" target="_blank" rel="noopener" title="WhatsApp"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="whatsapp"></a>
  <a href="mailto:gyoutrain@gmail.com" target="_blank" rel="noopener" title="Email"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="email"></a>
  <a href="https://web.facebook.com/gyouskill/" target="_blank" rel="noopener" title="Facebook"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="facebook"></a>
  <a href="https://www.instagram.com/etkyogya" target="_blank" rel="noopener" title="Instagram"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="instagram"></a>
</div>

<div class="buttons-center">
  <button class="confirm" id="btnConfirm">Confirmation</button>
  <button class="continue" id="btnContinue">Continue Test</button>
</div>

<form id="unlockForm">
  <label for="name">Name</label>
  <input type="text" id="name" placeholder="Your Name" required>
  
  <label for="whatsapp">WhatsApp Number</label>
  <input type="text" id="whatsapp" placeholder="e.g. +628xxxxxx" required>
  
  <label for="code">Unlock Code</label>
  <input type="text" id="code" placeholder="Unlock code will appear here" readonly>
</form>

<div class="qr-container">
  <img src="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest2/main/assets/dana_qr.png" alt="QR Code">
</div>

<div class="notification" id="notification"></div>

<script>
const DEPLOY_URL = "https://script.google.com/macros/s/AKfycbzGHya06EqmTzpz-qZXTD6WaAHzIKdfGbHolILxQmrrAr0llWkQPUPxWHdBS4josQ_f"; // replace with your GAS URL
const btnConfirm = document.getElementById('btnConfirm');
const btnContinue = document.getElementById('btnContinue');
const inputCode = document.getElementById('code');
const notification = document.getElementById('notification');

let pollingInterval = null;

function showNotification(msg){
  notification.innerText = msg;
  notification.style.display = 'block';
  setTimeout(()=> notification.style.display='none', 4000);
}

async function sendConfirmation(){
  const name = document.getElementById('name').value.trim();
  const whatsapp = document.getElementById('whatsapp').value.trim();
  if(!name || !whatsapp){ showNotification("Please fill Name and WhatsApp."); return; }

  try{
    const res = await fetch(DEPLOY_URL, {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({name, whatsapp, deviceId: navigator.userAgent})
    });
    const data = await res.json();
    if(data.ok){
      showNotification("Confirmation submitted! Waiting for admin verification...");
      if(!pollingInterval){
        pollingInterval = setInterval(()=> pollStatus(name, whatsapp), 5000);
      }
    } else {
      showNotification(data.message || "Error submitting confirmation.");
    }
  }catch(err){ showNotification("Error: "+err.message); }
}

async function pollStatus(name, whatsapp){
  try{
    const res = await fetch(`${https://script.google.com/macros/s/AKfycbweO3pKm0wgTO8M_G-hXoKE4tsDAXtCkgyHf66Zg4SI_zc9whEiLwIv1lZ1TJmv8tyf/exec}?checkStatus=1`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({name, whatsapp})
    });
    const data = await res.json();
    if(data.ok && data.status === "Verified"){
      inputCode.value = data.unlockCode || "Unlock Code Available";
      clearInterval(pollingInterval);
      pollingInterval = null;
      showNotification("Payment verified! Unlock Code is now available.");
    }
  }catch(err){ console.log("Polling error: "+err.message); }
}

btnConfirm.addEventListener('click', sendConfirmation);

btnContinue.addEventListener('click', ()=>{
  if(inputCode.value && inputCode.value.trim() !== ""){
    window.location.href = "quiz.html"; // replace with your quiz page
  } else {
    showNotification("Unlock Code not available yet. Please wait for admin verification.");
  }
});
</script>

</body>
</html>
